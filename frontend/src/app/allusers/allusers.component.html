<h1>All Users</h1>
<div *ngIf="showUsersTable">
    <h3>Registered Users</h3>
    <table>
        <thead>
            <tr>
                <th>Name</th>
                <th>Email</th>
                <th>Image</th> 
                <th>Options</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let user of users; let i = index">
                <td>
                    <div *ngIf="editingIndex === i">
                        <input [(ngModel)]="editObject.name" placeholder="Edit Name" />
                    </div>
                    <div *ngIf="editingIndex !== i">{{ user.name }}</div>
                </td>
                <td>
                    <div *ngIf="editingIndex === i">
                        <input [(ngModel)]="editObject.email" placeholder="Edit Email" />
                    </div>
                    <div *ngIf="editingIndex !== i">{{ user.email }}</div>
                </td>
                <td>
                    <div *ngIf="editingIndex === i">
                        <!-- Display image in edit mode -->
                        <img *ngIf="user.image" [src]="user.image" alt="User Image" width="50" height="50" />
                        <input type="file" (change)="uploadImage($event, user.id)" />
                    </div>
                    <div *ngIf="editingIndex !== i">
                        <!-- Display image in view mode -->
                        <img *ngIf="user.image" [src]="user.image" alt="User Image" width="70" height="70" />
                    </div>
                </td>
                <td>
                    <div *ngIf="editingIndex === i">
                        <button (click)="saveEdit()">Save</button>
                        <button (click)="cancelEdit()">Cancel</button>
                    </div>
                    <div *ngIf="editingIndex !== i">
                        <button class="edit-btn" (click)="editUser(i)">Edit</button>
                        <button class="delete-btn" (click)="deleteUser(i)">Delete</button>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>